00_init.R
dir.create('./data')
dir.create('./data/raw')
dir.create('./results')
dir.create('./results/figures')
dir.create('./docs')
dir.create('./data')
dir.create('./data/raw')
dir.create('./results')
dir.create('./results/figures')
dir.create('./docs')
install.packages("data.table")
library(data.table)
runoff_dt<-data.table(runoff_ts)
runoff_dt<-setDT(runoff_dt)
runoff <- 130 #m3/s
runoff_ts <- data.frame(time = as.Date(1:90, origin = '2020/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
runoff_dt<-data.table(runoff_ts)
runoff_dt<-setDT(runoff_ts)
summary(runoff_dt)
runoff_dt[value>130]
runoff_dt[value > 130, mean(value)]
runoff_dt[value > 130, mean(value), by = month(time)]
runoff_dt[,mon:=month(time)]
runoff_dt[,mon:=month(time)]
runoff_dt[,mon:=month(time)]
runoff_dt
runoff_dt[,mon_mean:=(value),by=mon]
runoff_dt
mon_value<-runoff_dt[,mon_mean:=(value),by=mon]#####create new column with the montly mean
mon_mean<-runoff_dt[,mon_mean:=(value),by=mon]#####create new column with the montly mean
mon_mean
mon_mean<-runoff_dt[,mon_mean:=(value),by=mon]#####create new column with the montly mean
mon_mean<-runoff_dt[,mon_mean:=(value),by=mon]
mon_mean
mon_mean<-runoff_dt[,by=mon]
mon_mean<-runoff_dt[,mean(value),by=mon]
mon_mean
runoff_month<-runoff_dt[,.(mon,mon_mean)]
runoff_month
unique(runoff_month)
saveRDS(runoff_dt,file="./data/dt_example.rds.")
gitcreds::gitcreds_set()
install.packages(("gitcreds"))
gitcreds::gitcreds_set()
library(data.table)
Temperatures<-setDT(Temperatures)
library(data.table)
library(data.table)
library(data.table)
Temperatures<-3,6,10,14
Temperatures<-(3,6,10,14)
WEIGHTS = c(1,0.8,1.2,1)
WEIGHTS = c(1,0.8,1.2,1)
Temperatures = c(3,6,10,14)
Temperatures<-setDT(Temperatures)
results <- aa(Temperatures,WEIGHTS)
aa=function(x, y)
{x*y}
results <- aa(Temperatures,WEIGHTS)
View(aa)
weights = c(1,0.8,1.2,1)
results <- aa(temperatures,weights)
temperatures = c(3,6,10,14)
results <- aa(temperatures,weights)
mon_mean<-runoff_dt[,mean(value),by=mon]
mon_mean
runoff_month<-runoff_dt[,.(mon,mon_mean)]
runoff_month
mon_mean
unique(runoff_month)
runoff_ts <- data.frame(time = as.Date(1:90, origin = '2020/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
head(runoff_ts)
runoff_dt[,mon:=month(time)]
runoff_dt[,mon := month(time)]
runoff_dt[, mon_mean := mean(value), by = mon]
runoff_month <- runoff_dt[, .(mon,mon_mean)]
runoff_month
unique_runoff <- unique(runoff_month)
unique_runoff
install.packages('dplyr')
library(dplyr)
detach("package:dplyr", unload = TRUE)
unique_change
unique_change <- unique(runoff_per_change)
runoff_pc
unique_change
#3 assignment
library(data.table)
temperatures = c(3,6,10,14)
weights = c(1,0.8,1.2,1)
aa=function(x, y) {
x*y
}
results <- aa(temperatures,weights)
#4 assignment
runoff_pc <- data.frame (time = as.Date(1:90, origin = '2021/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
library(data.table)
runoff_dt <- data.table(runoff_pc)
select(runoff_pc, c(1:3))
runoff_pc
runoff_dt[, month := month(time)]
runoff_dt[, month_mean := mean(value), by = month]
runoff_per_change <- runoff_dt[, .(month, month_mean)]
runoff_per_change
unique_change <- unique(runoff_per_change)
percentage_change <- function(V1, V2){
result_percentage <- ((V2-V1)/V1)*100
}
jan_percentage <- percentage_change(unique_change[1,month_mean], unique_change [2, month_mean])
jan_percentage
feb_percentage <- percentage_change(unique_change[2,month_mean], unique_change [3, month_mean])
feb_percentage
unique_change[, percentage_change := c(0, jan_percentage, feb_percentage)]
unique_change
runoff_pc
#3 assignment
library(data.table)
temperatures = c(3,6,10,14)
weights = c(1,0.8,1.2,1)
aa=function(x, y) {
x*y
}
results <- aa(temperatures,weights)
#4 assignment
runoff_pc <- data.frame (time = as.Date(1:90, origin = '2021/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
library(data.table)
runoff_dt <- data.table(runoff_pc)
runoff_pc
runoff_dt[, month := month(time)]
runoff_dt[, month_mean := mean(value), by = month]
runoff_per_change <- runoff_dt[, .(month, month_mean)]
runoff_per_change
unique_change <- unique(runoff_per_change)
percentage_change <- function(V1, V2){
result_percentage <- ((V2-V1)/V1)*100
}
jan_percentage <- percentage_change(unique_change[1,month_mean], unique_change [2, month_mean])
jan_percentage
feb_percentage <- percentage_change(unique_change[2,month_mean], unique_change [3, month_mean])
feb_percentage
unique_change[, percentage_change := c(0, jan_percentage, feb_percentage)]
unique_change
#3 assignment
library(data.table)
temperatures = c(3,6,10,14)
weights = c(1,0.8,1.2,1)
aa=function(x, y) {
x*y
}
results <- aa(temperatures,weights)
#4 assignment
runoff_pc <- data.frame (time = as.Date(1:90, origin = '2021/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
library(data.table)
runoff_dt <- data.table(runoff_pc)
select(runoff_pc, c(1:3))
runoff_pc
runoff_dt[, month := month(time)]
runoff_dt[, month_mean := mean(value), by = month]
runoff_per_change <- runoff_dt[, .(month, month_mean)]
runoff_per_change
unique_change <- unique(runoff_per_change)
percentage_change <- function(V1, V2){
result_percentage <- ((V2-V1)/V1)*100
}
jan_percentage <- percentage_change(unique_change[1,month_mean], unique_change [2, month_mean])
jan_percentage
feb_percentage <- percentage_change(unique_change[2,month_mean], unique_change [3, month_mean])
feb_percentage
unique_change[, percentage_change := c(0, jan_percentage, feb_percentage)]
unique_change
#3 assignment
library(data.table)
temperatures = c(3,6,10,14)
weights = c(1,0.8,1.2,1)
aa=function(x, y) {
x*y
}
results <- aa(temperatures,weights)
#4 assignment
runoff_pc <- data.frame (time = as.Date(1:90, origin = '2021/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
library(data.table)
runoff_dt <- data.table(runoff_pc)
select(runoff_pc, c(1:3))
runoff_pc
runoff_dt[, month := month(time)]
runoff_dt[, month_mean := mean(value), by = month]
runoff_per_change <- runoff_dt[, .(month, month_mean)]
runoff_per_change
unique_change <- unique(runoff_per_change)
percentage_change <- function(V1, V2){
result_percentage <- ((V2-V1)/V1)*100
}
jan_percentage <- percentage_change(unique_change[1,month_mean], unique_change [2, month_mean])
jan_percentage
feb_percentage <- percentage_change(unique_change[2,month_mean], unique_change [3, month_mean])
feb_percentage
unique_change[, percentage_change := c(0, jan_percentage, feb_percentage)]
unique_change
#3 assignment
library(data.table)
temperatures = c(3,6,10,14)
weights = c(1,0.8,1.2,1)
aa=function(x, y) {
x*y
}
results <- aa(temperatures,weights)
#4 assignment
runoff_pc <- data.frame (time = as.Date(1:90, origin = '2021/12/31'),
value = sample(c(130, 135, 140),
size = 90, replace = T))
library(data.table)
runoff_dt <- data.table(runoff_pc)
runoff_pc
runoff_dt[, month := month(time)]
runoff_dt[, month_mean := mean(value), by = month]
runoff_per_change <- runoff_dt[, .(month, month_mean)]
runoff_per_change
unique_change <- unique(runoff_per_change)
percentage_change <- function(V1, V2){
result_percentage <- ((V2-V1)/V1)*100
}
jan_percentage <- percentage_change(unique_change[1,month_mean], unique_change [2, month_mean])
jan_percentage
feb_percentage <- percentage_change(unique_change[2,month_mean], unique_change [3, month_mean])
feb_percentage
unique_change[, percentage_change := c(0, jan_percentage, feb_percentage)]
unique_change
